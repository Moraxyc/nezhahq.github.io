import{_ as e,o as a,c as o,R as s}from"./chunks/framework.44fd0451.js";const y=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/q8.md","filePath":"guide/q8.md","lastUpdated":1714697355000}'),c={name:"guide/q8.md"},t=s(`<h2 id="示例配置" tabindex="-1">示例配置： <a class="header-anchor" href="#示例配置" aria-label="Permalink to &quot;示例配置：&quot;">​</a></h2><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">Oauth2</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">Admin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">701b9ea6-9f56-48cd-af3e-cbb4bfc1475c</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">ClientID</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">3516291f53eca9b4901a01337e41be7dc52f565c8657d08a3fddb2178d13c5bf</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">ClientSecret</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">0568b67c7b6d0ed51c663e2fe935683007c28f947a27b7bd47a5ad3d8b56fb67</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">Endpoint</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://akkia.cloudflareaccess.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">Type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cloudflare</span></span></code></pre></div><h2 id="配置说明" tabindex="-1">配置说明： <a class="header-anchor" href="#配置说明" aria-label="Permalink to &quot;配置说明：&quot;">​</a></h2><table><thead><tr><th>参数</th><th>获取方式</th></tr></thead><tbody><tr><td>Admin</td><td><code>My Team</code> -&gt; <code>Users</code> -&gt; <code>&lt;具体用户&gt;</code> -&gt; <code>User ID</code></td></tr><tr><td>ClientID/ClientSecret</td><td><code>Access</code> -&gt; <code>Application</code> -&gt; <code>Add an Application</code> <br> -&gt; <code>SaaS</code> -&gt; <code>OIDC</code></td></tr><tr><td>Endpoint</td><td><code>Access</code> -&gt; <code>Application</code> -&gt; <code>Application URL</code> -&gt; <code>只保留协议+域名的部分，路径不需要</code></td></tr></tbody></table><h3 id="新建saas-oidc应用流程" tabindex="-1">新建SaaS-OIDC应用流程 <a class="header-anchor" href="#新建saas-oidc应用流程" aria-label="Permalink to &quot;新建SaaS-OIDC应用流程&quot;">​</a></h3><p>Zero Trust Dashboard: <a href="https://one.dash.cloudflare.com" target="_blank" rel="noreferrer">https://one.dash.cloudflare.com</a></p><ol><li><code>Access</code> -&gt; <code>Application</code> -&gt; <code>Add an Application</code>;</li><li>选择 <code>SaaS</code>，在<code>Application</code>中输入自定义的应用名称（例如nezha），选择<code>OIDC</code>后点击<code>Add application</code>;</li><li><code>Scopes</code>选择<code>openid</code>, <code>email</code>, <code>profile</code>, <code>groups</code>;</li><li><code>Redirect URLs</code>填写你的CallBack地址，例如 <code>https://monitor.example.com/oauth2/callback</code>;</li><li>记录<code>Client ID</code>、<code>Client Secret</code>、<code>Issuer</code>地址中协议与域名的部分，例如<code>https://akkia.cloudflareaccess.com</code></li><li>编辑Dashboard配置文件(通常在<code>/opt/nezha/dashboard/data/config.yaml)</code>，参考示例配置修改<code>Oauth2</code>配置，并重启Dashboard服务</li></ol>`,7),l=[t];function d(n,p,r,i,h,D){return a(),o("div",null,l)}const A=e(c,[["render",d]]);export{y as __pageData,A as default};
